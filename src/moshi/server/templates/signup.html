{% extends 'wrapper.html' %}

{% block jsimport %}

<script type="module" src="/firebase.js" id="firebase-import"></script>
<script type="module" id="auth-import">
  import { createUserWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js";
  function createUser() {
    var email = document.getElementById("email").value;
    var password = document.getElementById("password").value;
    // Call your createUserWithEmailAndPassword function with email and password
    createUserWithEmailAndPassword(auth, email, password)
      .then((userCredential) => {
        // Signed in
        const user = userCredential.user;
        console.log("User: " + user);
      })
      .catch((error) => {
        const errorCode = error.code;
        const errorMessage = error.message;
        console.log("Error code: " + errorCode);
        console.log("Error: " + errorMessage);
      });
  }
  // Attach function to global scope
  window.createUser = createUser;
  {# export {createUser}; #}
</script>

{% endblock %}

{% block content %}

<div id="signup-form">
  <form>
    <label for="email">Email:</label>
    <input type="email" id="email" name="email" required>
    <br><br>
    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required>
    <br><br>
    <input type="button" value="Sign Up" onclick="createUser()">
  </form>
</div>

{% endblock %}
